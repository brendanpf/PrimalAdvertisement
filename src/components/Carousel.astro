---
import '../styles/Carousel.css';
---
<div class="caseStudy-section">
  <h1 class="caseStudy-header">Case Study</h1>

  <div class="caseStudy-slider">
      <div class="caseStudy-item">
          <img src="/assets/caseStudy/case-study-1.jpg" alt="Case Study 1" class="caseStudy-showcase-image">
      </div>

      <div class="caseStudy-item">
          <img src="/assets/caseStudy/case-study-2.jpg" alt="Case Study 2" class="caseStudy-showcase-image">
      </div>

      <div class="caseStudy-item">
          <img src="/assets/caseStudy/case-study-3.jpg" alt="Case Study 3" class="caseStudy-showcase-image">
      </div>

      <div class="caseStudy-item">
          <img src="/assets/caseStudy/case-study-4.jpg" alt="Case Study 4" class="caseStudy-showcase-image">
      </div>

      <div class="caseStudy-item">
          <img src="/assets/caseStudy/case-study-5.jpg" alt="Case Study 5" class="caseStudy-showcase-image">
      </div>

      <div class="caseStudy-item">
          <img src="/assets/caseStudy/case-study-6.jpg" alt="Case Study 6" class="caseStudy-showcase-image">
      </div>

      <div class="caseStudy-item">
          <img src="/assets/caseStudy/case-study-7.jpg" alt="Case Study 7" class="caseStudy-showcase-image">
      </div>

      <div class="caseStudy-item">
          <img src="/assets/caseStudy/case-study-8.jpg" alt="Case Study 8" class="caseStudy-showcase-image">
      </div>

      <div class="caseStudy-item">
          <img src="/assets/caseStudy/case-study-9.jpg" alt="Case Study 9" class="caseStudy-showcase-image">
      </div>

      <div class="caseStudy-item">
          <img src="/assets/caseStudy/case-study-10.jpg" alt="Case Study 10" class="caseStudy-showcase-image">
      </div>

      <div class="caseStudy-item">
          <img src="/assets/caseStudy/case-study-11.jpg" alt="Case Study 11" class="caseStudy-showcase-image">
      </div>

      <div class="caseStudy-item-link">
          <a href="/freeinstacall/"><img src="/assets/caseStudy/case-study-12.jpg" alt="Case Study 12" class="caseStudy-showcase-image">
          </a>
      </div>
  </div>

  <!-- Slider Controls -->
  <div class="caseStudy-controls">
      <button class="prev-button">Previous</button>
      <button class="next-button">Next</button>
  </div>
</div>

<script is:inline data-astro-reload>
  function initializeCaseStudySlider() {
      const slider = document.querySelector('.caseStudy-slider');
      const prevButton = document.querySelector('.prev-button');
      const nextButton = document.querySelector('.next-button');

      if (slider && prevButton && nextButton) {
          let currentIndex = 0;
          const caseStudies = Array.from(slider.children);
          const totalCaseStudies = caseStudies.length;

          if (caseStudies.length === 0) return;

          function updateSliderPosition() {
              const caseStudyWidth = slider.clientWidth;
              slider.scrollTo({
                  left: currentIndex * caseStudyWidth,
                  behavior: 'smooth',
              });
          }

          prevButton.addEventListener('click', () => {
              currentIndex = (currentIndex > 0) ? currentIndex - 1 : totalCaseStudies - 1;
              updateSliderPosition();
          });

          nextButton.addEventListener('click', () => {
              currentIndex = (currentIndex < totalCaseStudies - 1) ? currentIndex + 1 : 0;
              updateSliderPosition();
          });

          window.addEventListener('resize', updateSliderPosition);
      } else {
          console.error('Slider or control buttons not found in the DOM');
      }
  }

  // Initialize the slider
  initializeCaseStudySlider();
</script>
